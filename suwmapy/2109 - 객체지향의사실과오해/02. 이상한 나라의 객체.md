## 객체 - 소프트웨어

- 하나의 개별적인 실체로 식별 가능한 물리적인 또는 개념적인 사물은 어떤 것이라도 객체가 될 수 있다.
- 객체의 다양한 특성을 효과적으로 설명하기 위해서는 객체를 **상태(state)**, **행동(behavior)**, **식별자(identity)** 를 지닌 실체로 보는 것이 가장 효과적이다.



> ### 상태
>
> 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 **객체의 구조적 특징**을 표현한다. 객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다. 객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다.

- **객체가 주변 환경과의 상호작용에 어떻게 반응하는가** 는  **그 시점까지 객체에 어떤 일이 발생했느냐**에 좌우됨
- 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있음
  - *앨리스가 어떤 행동을 했는지 모르더라도, 앨리스의 키만 알면 문을 통과할 수 있는지 여부를 쉽게 판단할 수 있음*
  - `앨리스의 키` 와 `문의 높이`라는 두 가지 상태만 알면 **문을 통과하는 행동의 결과**를 쉽게 예측할 수 있다

- 단순한 값들은 그 자체로 독립적인 의미를 가지기보다는 다른 객체의 특성을 표현하는 데 사용된다. => 다른 객체의 상태를 표현하기 위해 사용

![캡처](https://user-images.githubusercontent.com/58503875/135653290-7959f389-6c61-4ae1-ae1d-920695da3d61.jpg)



![캡처2](https://user-images.githubusercontent.com/58503875/135653296-29e620eb-b6f6-4745-ba1a-032d39ca7cec.PNG)

- 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 **프로퍼티(property)**라고 함
  - 앨리스의 경우, `키` , `위치` , `음료` 가 앨리스의 프로퍼티가 된다.
- **프로퍼티**는 변경되지 않고 고정되기 때문에 **정적**
- **프로퍼티 값**은 시간이 흐름에 따라 변경되기 때문에 **동적**
- 객체와 객체 사이의 의미 있는 연결을 **링크(link)** 라고 함.
  - 객체와 객체 사이에는 링크가 존재해야만 요청을 보내고 받을 수 있다.
  - 객체의 링크를 통해서만 메시지를 주고받을 수 있다.



> ### 행동
>
> 행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다. 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다. 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다.

- 객체의 행동에 의해 객체의 상태가 변경된다는 것은 행동이 **부수 효과(side effect)**를 초래한다는 것을 의미한다.
- 객체의 행동은 객체의 상태를 변경시키지만 행동의 결과는 객체의 상태에 의존적이다.
  - *음료를 마신 후의 앨리스의 키*  < *음료를 마시기 전의 앨리스의 키*  => **음료를 마시는 행동**의 결과가 앨리스의 키에 의존한다는 것을 의미
- `상태` 와 `행동` 사이의 관계
  - 객체의 행동은 상태에 영향을 받는다
  - 객체의 행동은 상태를 변경시킨다
- 객체의 행동의 부수효과
  - 객체 자신의 상태 변경
  - 행동 내에서 협력하는 다른 객체에 대한 메시지 전송



> ### 상태 캡슐화

- 모든 객체는 **자신의 상태를 스스로 관리하는 자율적인 존재**다.
  - **앨리스 객체**의 키를 작게 만드는 것 => **앨리스 자신**
  - **음료 객체** 의 양을 줄이는 것 => **음료 자신**
  - 앨리스가 음료의 상태를 변경하는 법? 음료에게 자신이 음료를 마셨다는 **메시지**를 전달 (양을 줄이는 것은 음료 스스로의 몫!)

![캡처3](https://user-images.githubusercontent.com/58503875/135653300-b354e989-3955-42a5-ae94-6346ddfb318c.PNG)

- 객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 않는다. 객체가 외부에 노출하는 것은 **행동**뿐이며 외부에서 객체에 접근할 수 있는 유일한 방법 역시 **행동** 뿐이다.
- 외부로부터 전달된 **메시지** = 객체의 행동을 유발
- 상태를 외부에 노출시키지 않고 행동을 경계로 캡슐화하는 것은 결과적으로 **객체의 자율성**을 높임



> ### 식별자
>
> 식별자란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티다. 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야 한다. 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다.

- 객체가 식별 가능하다는 것은 객체를 서로 구별할 수 있는 특정한 프로퍼티가 객체 안에 존재한다는 것을 의미한다. 이 프로퍼티를 **식별자**라고 한다.
- 모든 객체는 식별자를 가지며 식별자를 이용해 객체를 구분할 수 있다.
  - 객체가 아닌 단순한 값은 식별자를 가지지 않는다는 것을 의미
  - 값(value)과 객체의 가장 큰 차이점은 값은 식별자를 가지지 않지만 객체는 식별자를 가진다는 점

- 객체는 시간에 따라 변경되는 상태를 포함하며, **행동**을 통해 상태를 변경함
  - 행동의 결과는 상태에 의존적이며 상태를 이욯애 서술할 수 있음
  - 행동의 순서가 실행 결과에 영향을 미침
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능함



## 기계로서의 객체

개발자들의 주된 업무는 객체의 상태를 조회하고 객체의 상태를 변경하는 것이다. 일반적으로 객체의 상태를 조회하는 작업을 쿼리(quqery)라고 하고 객체의 상태를 변경하는 작업을 명령(command)이라고 한다.



## 행동이 상태를 결정한다.

상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.

- 상태를 먼저 결정하게 될 경우?

  1. 상태를 먼저 결정할 경우 캡슐화가 저해됨
     - 공용 인터페이스에 그대로 노출되버릴 확률이 높아짐

  2. 객체를 협력자가 아닌 고립된 섬으로 만듦

  3. 객체의 재사용성의 저하됨

- 객체는 다른 객체와 협력하기 위해 존재한다.

- 객체지향 설계는 애플리케이션에 필요한 협력을 생각하고 협력에 참여하는 데 필요한 행동을 생각한 후 행동을 수행할 객체를 선택하는 방식으로 수행된다.

